Bom, pessoal, no vídeo anterior a gente começou a falar do aumento de complexidade quando a gente está trabalhando com microsserviços. Eu sei que a gente já tinha falado bastante isso no começo, mas eu acho que quando a gente vê as “imagenzinhas” aqui, começa a ficar um pouco mais claro esses pontos aqui.

Agora, qual é o maior efeito colateral quando você tem isso aqui rodando num ecossistema muito grande. E para isso a gente vai falar sobre algo que nós chamamos de coreografia de microsserviços. (Deixa eu colocar aqui. Coreografia de microsserviços). A coreografia de microsserviços não passa da livre comunicação entre os próprios microsserviços e normalmente independente de contexto. Então, o microsserviço A chama o B, que chama o C, que chama o D, e assim vai o F, o G, H… e começa a ter um relacionamento e uma forte dependência entre muitos microsserviços. Quando você vai olhar lá na rede para tentar entender como estão as chamadas de um microsserviço para o outro, a coisa parece ser muito caótica e quando fica caótica e quando tudo fica complexo você tem um problema um pouco maior de gestão, gestão de rede, de chamadas de rede, de custos de rede dependendo do tipo da situação. Então, esse tipo de coisa você tem que tomar muito cuidado e honestamente, eu tendo a dizer para você fazer e criar um projeto de topologia de microsserviços- a gente vai falar sobre isso aqui, mas eu quero que você entenda o que a livre comunicação entre microsserviços faz ou a coreografia. O que é coreografia? Cada um trabalha da sua forma e acaba gerando aquele trabalho final e etc. Um chama um, chama o outro, chama o outro, no final das contas é uma livre comunicação. Ou uma livre comunicação pode ter alguma restrição ou outra de segurança ou de acesso a algum microsserviço, mas de forma geral é quando um microsserviço fica chamando diretamente o outro sem nenhuma orquestração, sem nenhuma regra explícita de um processo.

Quando a gente acaba caindo nesse tipo de situação, a gente começa a viver diversos efeitos colaterais. Um dos efeitos colaterais que a gente acaba tendo é a chamada famosa Death Star, ou mais conhecida como “Estrela da Morte". Isso significa que quando você vai olhar o gráfico das chamadas de rede entre os microsserviços, você vai perceber que você tem um ambiente caótico e é, nesse momento, que você começa a perceber o caos que a sua rede pode se tornar. E eu não estou dizendo que esse caos é algo ruim, mas o que mostra é um sinal de complexidade enorme e que provavelmente, se um dia você tivesse que subir todos os serviços novamente, a coisa não seria tão fácil assim. Eu vou pegar um exemplo de Estrela da Morte, tanto da Netflix quanto da Amazon, aqui para vocês verem. Isso aqui são gráficos referentes às chamadas dos microsserviços, entre eles. Normalmente, tanto rodando na Netflix quanto na Amazon. Então, você começa a perceber que isso aqui, com cinco microsserviços, quando isso vai para uma escala de milhares de microsserviços, as comunicações tendem a ficar desse jeito. E quanto mais complexo e quanto mais microsserviço, mais complexo fica e aí as chamadas de rede acabam ficando cada vez mais caóticas. Então, isso aqui é um efeito colateral e você tem que tomar muito cuidado porque essas empresas aqui têm estrutura. Elas têm dinheiro, elas têm profissionais para conseguir lidar com uma situação caótica como essa. A maioria das empresas sentem dificuldade para lidar com um ambiente desse mais simples e já tem dificuldade. Agora imagina você, numa empresa pequena, chegar a fazer requisições onde o seu gráfico comece a atender para algo parecido como esse. Então, as coisas acabam ficando mais complexas e provavelmente você está indo para um caminho errado. E eu digo errado mesmo porque complexidade a mais num sistema que não precisa é uma decisão errada, na minha opinião, é uma decisão errada.

Eu sei que é muito complexo você julgar o que é certo, o que é errado na hora que você vai arquitetar uma aplicação, mas para mim, se a sua empresa não tem um orçamento abundante, não tem uma grande quantidade de profissionais, esses profissionais não têm uma maturidade suficiente para lidar com todos esses tipos de coisa, a decisão para você fazer qualquer coisa que tenda a isso que eu estou te mostrando é uma decisão equivocada. Então, tome cuidado com isso e tome cuidado com a estrela da morte. Então, vamos nessa!