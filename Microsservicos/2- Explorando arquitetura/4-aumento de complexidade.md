Bom, pessoal, no vídeo anterior nós falamos, damos uma introdução aqui nos nossos desenhinhos para a gente falar sobre arquitetura baseada em microsserviços. Agora, o ponto é que, apenas olhando dessa forma, eu acho que fica claro que um serviço está se comunicando com o outro, porém existem algumas nuances que você vai perceber aqui e que, olhando esse desenho, a gente acaba esquecendo facilmente. Você tem que pensar que cada cara desse aqui é um sistema e esse sistema também recebe muitos acessos, então, no final do dia, o que vai acontecer? Você vai precisar disso aqui também, (deixa eu colar para tentar deixar mais claro aqui para você).

Olha só que interessante, você vai precisar mais disso aqui, e o que isso significa? Escala horizontal, significa que os seus próprios microsserviços vão começar a receber muitos acessos e, pelo fato de eles receberem muitos acessos, eles vão precisar também crescer horizontalmente, então, aqui eu dei alguns exemplos. Aqui tem três máquinas rodando o mesmo microsserviço. E assim a coisa vai, deixa eu só colocar quatro aqui para não parecer que todos os microsserviços têm que ter três máquinas para subirem, Vou colocar mais aqui, então, o que acontece aqui nesse caso? Significa que todos os microsserviços precisam crescer horizontalmente para ele conseguir dar conta na demanda e, uma vez para eles darem conta na demanda, o que a gente precisa ter aqui em volta desse cara (aqui principalmente, vou até colocar aqui uma barreira desse tipo aqui, só para deixar mais claro, um balancer). Isso aqui é importante você entender, porque já que ele vai trabalhar, recebendo as requisições, o que vai acontecer é que todo mundo que for fazer a chamada nesse microsserviço vai ter que bater num balancer e o balancer vai escolher para qual instância ele vai ter que mandar a requisição. E quando você começa a pensar dessa forma, significa que todos os microsserviços vão ter esse balancer. Então, quando você começa a pensar dessa forma, você começa a ver que a coisa começa a ficar mais complicada, porque antes eu tinha apenas um balancer aqui para todo o meu sistema e agora se eu tiver 10 microsserviços, eu vou precisar de 10 balancers aqui pelo menos. Então, isso aqui é um ponto importantíssimo que você tem que levar em consideração. Novamente, vou colocar alguns disclaimers aqui importantes para você sempre lembrar quando a gente for trabalhar com essa arquitetura. Eu vou precisar de múltiplos processos de CI/CD, eu vou precisar de múltiplas verificações de segurança, eu vou ter mais provisionamento de infraestrutura. Acabamos de falar disso, cada microsserviço pode consumir mais máquinas, mais balancers, mais bancos de dados, provavelmente eu vou ter mais custo, eu vou ter uma complexidade muito maior em governança para eu trabalhar com esses caras e nesse caso aqui eu tenho efeito dominó também, se esse microsserviço cair, ele pode deixar toda a rede de microsserviços lenta, porque todo mundo vai começar a ficar preso nesse microsserviço que está caindo ou que ele está lento gerando, então, um efeito dominó. Isso acontece muito quando você está trabalhando com requisições síncronas, por isso que é extremamente desrecomendado, vamos dizer assim. Por isso que não é recomendado a gente trabalhar sempre com requisições síncronas. Você vai ter mais latência, normalmente a gente já falou disso, você vai ter uma observabilidade mais complexa, óbvio. Esse cara chama esse cara que chama esse cara, deu um erro, onde o erro estava? Estava aqui, aqui ou aqui? Como eu consigo ver? Então se eu não tiver isso pronto para o jogo, simplesmente a coisa vai complicar e você vai ter um tempo muito maior para o "troubleshooting". Como eu consigo debugar o erro aqui? Como eu consigo entender onde esses problemas vão acontecer? Então, fiquem ligados em relação a isso.

Lembrando que por enquanto a gente está falando apenas sobre requisições síncronas. Normalmente, a gente tem um misto de requisições quando a gente trabalha com microsserviços, tanto de uma forma mais híbrida, ou seja, requisições síncronas, requisições assíncronas e assim por diante. Então, fiquem ligados, estamos começando, apenas começando com a nossa arquitetura baseada em microsserviços, vamos falar de mais efeitos colaterais para você se ligar. Vamos nessa!