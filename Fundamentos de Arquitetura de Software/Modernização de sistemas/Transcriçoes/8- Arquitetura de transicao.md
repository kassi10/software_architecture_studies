A arquitetura de transição, acho que aqui vou colocar alguns tópicos. A gente já conversou um pouco aqui, mas só juntando tudo num slide só. A arquitetura de transição tem que existir porque, quando você vai fazer uma modernização, você tem uma mudança muito complexa e muito demorada para fazer. E gerar valor durante o percurso, de forma progressiva, vai ser necessário. Senão, você não vai conseguir deixar de pé o que você está vendendo, o que você está contando e que faz sentido. 

É muito bonito você chegar e falar que o sistema, usando mensageria e com resiliência, etc., é bem melhor para o seu cliente. Mas, enquanto o seu cliente não estiver vendo isso, para ele, é só ruim. Você só não está conseguindo fazer o que você quer. Então, tenha claro que, durante a sua arquitetura de transição, você vai ter desperdício, você vai construir coisas e vai jogar fora. E não só tenha isso claro, deixe isso claro de forma bem parceira. Não dá para você falar para as pessoas assim: "Ah, não vamos construir e jogar fora." É: "A gente vai construir, a gente vai gerar esse valor, vamos experimentar isso, e depois a gente vai ter que jogar um pouco fora e fazer algo melhorado." Isso é um conceito de construção contínua e não de: " Construí e acabou, já era, nunca mais mexe." Então, tenha isso claro. 

Desapegue das soluções perfeitas no primeiro momento. É bem isso. “Ah, dá para eu fazer uma solução que não tem teste?” Não, não dá, você tem que testar. Dá pra fazer uma solução que não tem observabilidade? Não dá. Se você tiver observabilidade no dia seguinte e der problema, você vai rodar. Mas, você precisa fazer a primeira solução com todos os pontos de resiliência possíveis, com todos os dashboards possíveis. Meu, se você tiver que decidir entre um dashboard e um alerta, deixa um alerta, cara, porque o dashboard você vai olhar, mas o alerta vai te avisar, se você estiver de madrugada dormindo, se precisa entrar para resolver aquele negócio ou não. 

Então, é importante você pensar no que é crucial para aquilo, e eu não consigo dar a receita do bolo, porque vai depender do que você está fazendo, qual risco você quer tomar, porque sim, é sobre tomada de risco. E decida quais são as soluções mínimas e possíveis de serem tratadas no primeiro momento, e depois vai gerando mais coisas em cima delas. E não esqueça: uma solução, depois que for colocada, se não estiver no seu melhor de resiliência, observabilidade, etc., você tem que voltar nela. Se você não tem uma maturidade no seu time para voltar e ir refazendo e arrumando, primeiro você tem que ter essa maturidade antes de fazer isso. 

Outra coisa, é muito importante você conseguir separar quais são as funções do negócio, as funções sistêmicas que vão ser entregues na primeira rodada, quais são as da próxima rodada, cada sprint, a cada tempo de entrega. Quais são as funções que você vai deixar de fora e quais são as que você vai entregar. Normalmente, quando a gente tem times com menos maturidade, eles querem entregar tudo de uma vez só, e isso é horrível. Tudo é — eu costumo brincar — tudo é prioridade, mas não existe "tudo é prioridade". Então, pense nisso. Tem que ter uma prioridade. Tem que ter uma função prioritária. Não há duas funções. Uma função prioritária. A segunda, qual é? Esta é a segunda. Se são todas prioritárias, já pare a conversa, e você vai ter que ter um papo sobre maturidade antes de sair fazendo a transição.

Abuso de abstrações. Você vai ter que jogar abstrações no lixo, você vai ter que criar várias abstrações durante uma transição. Eu acho que esse é o item 1 que eu falaria de arquitetura mesmo, quando você estiver fazendo desenho. A cada ponto de transição, possivelmente você vai ter uma abstração. Cada vez que você tiver um ponto de entrega e que faz uma transição para uma arquitetura anterior, ou seja, ainda não é onde você queria chegar, normalmente você vai ter uma abstração. 

Controle as expectativas de todo mundo, deixe claro que tem experiências intermediárias, tem coisas que vão dar certo e coisas que não vão, que você vai ter que ir experimentando no dia a dia. Não tenha medo de pivotar uma estratégia. Criei essa abstração, mas ela está trazendo o maior gargalo, então vou ter que voltar. Não tem problema. Isso é um assunto complexo, e se você tentar acertar tudo de primeira, vai dar errado, e você vai ficar dando um passo atrás. 

Não abra mão de qualidade. Observabilidade, resiliência e testes têm que ter. Tem que ter 100% de tudo. Você tem que saber tomar a decisão de quanto de risco quer assumir em cada um. Mas você tem que ter observabilidade suficiente para saber se o seu sistema está ok e conseguir tratar problemas caso não esteja. Você tem que ter resiliência suficiente para conseguir fazer ele voltar ao normal se não estiver. E você tem que testar. Testar é mais difícil até de discutir se dá para abrir mão. Não tem como subir sem testar. É muito difícil você aceitar uma implementação que não precisa de teste. Normalmente, sendo bem honesto, eu aceitaria se fosse para algum relatório que será de consumo interno e que não gera nenhum impacto ou algo desse tipo. A gente fala pouco de relatório hoje, mas imagina que é um dashboard de negócios para tomar as decisões de BI. Talvez, se fizer muito sentido, você pode conversar para ver se dá para seguir sem e experimentar. Mas também toma muito cuidado para não gerar um impacto gigantesco, ainda mais quando estamos falando de AWS, Azure, Cloud. Você está falando de contas que podem, por exemplo, subir máquina, subir processamento, subir muita coisa rápido, e você pode acabar gastando dinheiro. É legal pensar bastante que teste não é só sobre funcionalidade, mas é sobre FinOps, teste é sobre observabilidade, é sobre resiliência, e teste tem que pegar tudo. Então, muito cuidado para não abrir mão.

Não se apaixone pelas soluções. Muitas das soluções você vai ter que pivotar, então não se apegue, não diga: "essa foi a minha ideia, teve gente que discordou, e eu quis fazer." Eles estavam certos. Larga a mão e vá em frente, não fique apaixonado por uma solução. 

Aqui coloquei uma coisa simples só para a gente não esquecer. Mas o básico que você tem que pensar para fazer uma aplicação moderna: você tem que deixar o seu sistema escalável. Não dá para deixar o sistema não escalável. Se vier uma carga maior de requisição, você tem que conseguir ter velocidade para subir ou para descer, e lembrar de fazer downscale, muita gente esquece do downscale e gasta um dinheiro desnecessário. Então, lembrar que tem que saber fazer downscale também. 

Disponibilidade. Seu sistema, indo para uma arquitetura nova, uma visão diferente de arquitetura, você tem que deixá-lo disponível. Não adianta pensar só numa entrega, você tem que pensar também em como sua cloud vai te prover disponibilidade. Seu desempenho, a velocidade de entrega, a velocidade de requisição. Igual falei, não dá para pensar num sistema que está demorando 14 segundos para fazer alguma coisa, ou 15, ou 20, 30. Olha para isso, faz teste de performance, entende como as coisas estão funcionando. Tuna direitinho as aplicações para você conseguir ter uma performance boa, porque você pode fazer o melhor desenho do mundo, mas se chegar lá e entregar com desempenho ruim, possivelmente seus stakeholders vão achar uma porcaria o que você fez.

E, segurança. A gente fala pouco de segurança, e acho que a gente tem que falar muito mais sobre isso. O Cibercrime está crescendo muito. Se a gente olhar para os últimos anos, estamos tendo um aumento exponencial de cybercrime, ciberataque no Brasil. O Brasil está sendo muito foco. Não sei se vocês acompanham isso, mas o Brasil está sendo muito foco de ciberataques. A gente precisa pensar e falar sobre segurança, que a gente fala pouco, ter planos de segurança muito bem preparados e, algo muito importante, planos para derrubar o seu sistema se precisar. Se tiver um cyberattack, você tem que ter um plano para tirar aquilo do ar. Dificilmente falamos sobre isso. 

Outra coisa, deixei um slide aqui para falarmos sobre dados. Quando estamos fazendo uma migração desse tipo, onde eu mais sofri, sendo bem honesto, onde mais sofro normalmente não é no desenho da aplicação e na mudança das aplicações. Isso é difícil, mas acho que talvez já esteja muito mais na minha veia e já é algo que consigo resolver mais facilmente, e vejo que os times conseguem resolver também. Mas falar de dados durante uma arquitetura de transição é extremamente complexo. Porque você está falando de trabalhar com dados que estão numa visão antiga de dados, que não estão pensando em data mesh, que não estão pensando em uma visão de analytics e estrutura de dados que temos hoje em dia, de catalogação. 

Você tem muita replicação de dado com o mesmo conceito, só que de formas diferentes. É muito dado trabalhado dentro de tabela que deveria ser dado bruto. Então, a visão de dados, normalmente, numa arquitetura mais antiga, não vai ser uma visão refinada. Então, precisa ter muito cuidado, porque, quando estiver fazendo a arquitetura nova, você vai estar trabalhando com dados da morfologia antiga e dados da morfologia nova. Essa conversa é muito complexa e difícil. Para você ter essa replicação de dados, pensando em qual vai ser o seu golden source, qual será a fonte de dados que você vai consumir quando precisar resolver um problema e ter uma resposta que seja: "nisso eu confio, esse é um dado confiável dentro do sistema consistente", é bom ter essa base muito bem declarada. "É daqui que vou tirar a minha verdade, é isso aqui que vai me contar a realidade de tudo que acontece." E você precisa pensar em como essa base vai ter sua morfologia ao longo do tempo para chegar na visão final. Isso é o mais difícil. Trabalhar com essas morfologias de dados é o mais difícil, então é necessário bastante cuidado.

Era isso que eu tinha para mostrar aqui para vocês. Queria agradecer muito o convite, agradecer o papo. Espero que eu tenha conseguido ajudar de alguma forma. Fiquem à vontade. Estão aqui meus contatos. Fiquem à vontade para me adicionar, me seguir, buscar, chamar para conversar, trocar um pouco sobre o que gostaram, o que não gostaram. Fiquem à vontade. 

E muito obrigado mais uma vez, Wesley, pelo convite. Obrigado por me dar essa oportunidade de contar um pouco da história. Espero que eu tenha realmente ajudado de alguma forma a carreira de vocês.