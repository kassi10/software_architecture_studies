É engraçado quando a gente fala de modernização do sistema legado, muita gente pensa que a gente só mexe com tecnologia antiga, com coisas que já estão obsoletas, etc. Mas acho que a gente tem muita coisa para conversar. Fazer uma modernização do sistema legado é basicamente um mar de oportunidades. Você não tem uma coisa tão simples para fazer. Então, durante a apresentação, vocês vão ver que eu vou conversar bastante sobre as coisas que eu passei, as situações que eu vivi, como aprendi com elas e como fiz diferente ao longo desses anos. Eu já fiz a modernização de mais de cinco sistemas, o que, querendo ou não, estamos falando de uns sete anos de projeto, sete anos de trabalho, só fazendo modernização de sistemas. Então, é bastante coisa, e acho que dá para a gente trocar bastante. Eu não sei de tudo, óbvio que não, mas pelo menos sei algumas coisas que não vão dar certo e algumas que deram um pouco mais certo para a gente ir compartilhando por aqui.

Antes de falar de sistema legado, vamos definir o que é legado. Eu sempre quis falar isso. Vocês sabem de onde vem a palavra legado quando falamos de sistema legado? Qual a origem dessa palavra? É interessante pensar que, quando você olha para um sistema legado, ele traz uma história do que já foi construído e o impacto duradouro que isso pode gerar. Eu até coloquei aqui, no estilo Cortella, vendo o detalhe da palavra, que legado é um impacto duradouro na história da vida das pessoas. Então, é algo que gerou esse impacto. Quando você olha para a tecnologia, o conceito se traduz da mesma forma. Então, quando falo de um sistema legado dentro da tecnologia, nada mais é do que algo que foi criado há algum tempo e que gerou valor por algum tempo, com uma história dentro da tecnologia. Quando olhamos para grandes bancos, eles foram criados há muito tempo, foram pioneiros, e muitos desses sistemas geraram muito dinheiro e cuidaram das nossas contas durante muito tempo. São sistemas extremamente parrudos, com muitas regras, muito grandes, e que seguraram a bronca por muito tempo. E por que, de repente, olhamos para esses sistemas e pensamos: 'Se eles são tão bons, se seguram tanto a bronca, por que vamos mexer neles? Porque time que está ganhando não se mexe.' Brincadeira, na minha opinião, temos sempre que mexer, sempre evoluir. Mas por quê? Por que eu vou pegar o dinheiro da minha empresa e investir em algo que já estava funcionando bem? O que acontece é que, em determinado momento, a maior parte das empresas começa a perder um pouco de mercado por causa do tempo de resposta. E não estou falando de tempo de resposta da aplicação, mas do tempo de resposta em relação a um movimento que está acontecendo. Então, imagine que todo mundo está indo para a blockchain, e se meu sistema é muito antigo, como eu mexo nisso? Como proponho soluções que levem isso em consideração?

Quando falamos de sistemas mais antigos, eles tinham a ideia de processamento em lote. Os processamentos rodavam de um dia para o outro, e tínhamos essa expectativa de poder esperar. Antigamente, se você parar para pensar, nosso dia a dia não tinha essa urgência constante de querer tudo na hora. Então, esperávamos. Eu esperava para ver se o saldo da minha conta mudava de um dia para o outro. Eu esperava para ver se o pagamento que fiz hoje do meu boleto seria refletido em três dias. Eu esperava 15 dias para ver se meu empréstimo imobiliário, que paguei, foi abatido. Hoje em dia, não temos mais isso; pensamos em experiências mais rápidas e precisamos trazê-las para a mão do cliente o mais rápido possível. Então, a primeira coisa é: os sistemas continuam cumprindo seu propósito, lógico, como verificar o saldo da conta de um dia para o outro, mas será que estão fazendo isso da melhor forma? Será que estão oferecendo a melhor experiência?

Também, quando falamos de experiência, os sistemas legados tendem a ser mais lentos, mais difíceis de usar, com menos personalização. Isso traz uma visão adicional, que é rara em bancos, pois normalmente eles têm camadas de segurança extremamente complexas. Mas mesmo com essa segurança, quando olhamos para sistemas como o que o Wesley mencionou, em COBOL, eles são extremamente difíceis, senão impossíveis, de serem invadidos, porque rodam em máquinas da IBM, sem conectividade externa, o que dificulta muito qualquer ataque. No entanto, ainda precisamos considerar a camada de segurança em sistemas legados rodando em tecnologias muito antigas, como VB6, que trazem também problemas de segurança. Hoje, com a facilidade e o arcabouço maior para realizar ataques cibernéticos, isso se torna uma preocupação crescente.

Basicamente,  quando falamos de sistemas legados, é disso que estamos falando: de sistemas que resolvem nossos problemas de certa forma, mas que não são os melhores para o nosso negócio ou para o cliente. Por isso, é sempre bom dar uma olhada para não deixar nosso sistema envelhecer e ser aquele 'velho de guerra' que segura a bronca, mas que poderia estar muito melhor.

Para falar de sistema legado, precisamos falar um pouco de monolito. Monolito é uma palavra bastante usada quando falamos de sistemas mais antigos. Diferente do que o Wesley tem ensinado, de quebrar os contextos e visões com microsserviços, antigamente criávamos um sistema e incluíamos todas as funções nele. Era muito comum ver um programa gigantesco, com várias linhas de código, 40 mil linhas ou mais, com diversas funcionalidades. Quando olhamos para o monolito, imagine que você começa um banco, e vai começar a vender empréstimos. A criação do empréstimo, as parcelas, o ID do empréstimo, quem contratou, quando contratou, tudo isso estava no mesmo lugar, junto com o cálculo das parcelas, o recebimento dessas parcelas e até a contabilização. Tudo no mesmo programa, o mesmo sistema. Isso gerava uma enorme complexidade. Cada vez que alguém pedia uma mudança, como no cálculo de parcelas, ao mexer nessa parte, você podia quebrar o recebimento. Mexia na criação de um empréstimo e derrubava a contabilização. Trabalhar com sistemas monolíticos trazia vários problemas e dificuldades.

Mas, para sermos honestos, lá atrás a gente não pensava muito nisso. Queríamos apenas entregar a funcionalidade. Não tínhamos uma cultura de engenharia e arquitetura de software tão bem desenhada. Era fazer funcionar e seguir em frente. Com o tempo, e com a mudança no contexto social, as pessoas passaram a querer consumir as coisas mais rapidamente. Novos players surgiram no mercado, e com o advento da cloud, a facilidade de criar novos sistemas cresceu. Hoje, você pode brigar com empresas grandes com um investimento muito menor, graças à AWS ou Azure. Então, não dá mais para ter seu negócio sustentado por um sistema acoplado e de difícil manutenção. Se você quiser implementar uma nova forma de pagamento, como o Pix, pode acabar derrubando o recebimento por cartão de crédito ao mexer no monolito.

Acho que há uns oito anos comecei a entender que esse desenho tinha que mudar. Nas empresas onde trabalhei, discutimos muito isso e tivemos muitos aprendizados ao longo do tempo.