Eu acho isso fantástico. Eu adoro ouvir essas histórias. Por quê? Porque acontece o seguinte: eu acho que a grande sacada disso é você conseguir lidar com esses trade-offs e esses tipos de decisão realmente... O profissional que toma esse tipo de decisão é um profissional que, de forma geral, já é mais maduro pelo fato de saber que esse negócio é temporário e tentar evitar os níveis de acoplamento. Por exemplo, a história do BFF. Sem colocar BFF numa história dessas, ia dar muito trabalho, porque você ia estar acoplado o tempo inteiro. O sistema novo não ia conseguir, mas no meio dessa história, provavelmente, você teve muita definição de contrato de API. Ao mesmo tempo que você estava pensando em integrar com o sistema de lá, você já estava preparando a integração para o sistema daqui. 

O mais interessante é: nossa, eu tenho uma API que está demorando 14 segundos, eu vou fazer isso, vai piorar esse negócio momentaneamente, mas enquanto eu pioro algo, o que eu consigo melhorar? E, às vezes, a gente acaba não pensando numa coisa assim. Eu demorei, assumo que isso eu demorei para aprender na minha vida. Eu tinha a impressão de que as coisas tinham que doer em mim para elas terem valor. Então, eu falava: nossa, essa funcionalidade, esse negócio do painel, que trabalho! Lembro até hoje que, quando eu tive uma reunião com um chefe meu, eu gastei um mês fazendo o negócio. Eu mostrei e ele disse: nossa, mas ficou ruim pra caramba isso. Eu gostava do jeito que estava antes. E, eu ficava bravo, daí você ficava pé da vida, daí voltava e pensava: não tem sentido isso. E, às vezes, o que mais deixa o cliente feliz é um bendito CRUD que você faria em cinco minutos, mas está resolvendo uma dor. Às vezes, mudar uma label no menu vai gerar uma melhora na comunicação de uma equipe de 100 pessoas que estão usando aquele sistema, e todo mundo ficava perguntando.

Provavelmente, a mudança que você fez no front-end não era a coisa mais difícil do mundo de se fazer, mas já gerava valor para o cara no dia 1 dessa transição, e ele já falava: "está valendo a pena esse projeto!" Porque, ao mesmo tempo que você faz isso, um projeto desse custa caro, demora tempo, e o seu stakeholder não tem que saber o que é complexo e o que não é. Ele tem que saber em relação ao tempo de projeto. Mas, no final do dia, ele quer saber o que você já está entregando. Vender nisso é muito difícil. 

Então, não necessariamente a funcionalidade mais difícil, que tira o seu suor, é a funcionalidade que mais gera valor para o cliente. Às vezes, a funcionalidade que gera mais valor para o cliente é um campo de busca que já traz o resultado que ele precisa, sem ele ter que fazer toda uma história. 

Vou te dar um exemplo. Eu gosto de pegar muitos exemplos do dia a dia, porque acho que, no fim do dia, a gente entrega um produto assim como um restaurante entrega. Vou dar um exemplo bem simples de uma coisa que eu olho aqui. Eu peço pizza em dois lugares. Um deles sempre me mandava um panfletinho falando um monte de coisa que eu nunca li. Panfleto, quando chega, você já não lê. Era um panfleto falando para baixar o app deles e que tinha desconto, mas eu nunca li. Eu sempre pegava essa pizza, bem colada assim, comia e “vambora”, pedia pelo iFood e pronto.

A outra pizzaria teve a mesma ideia, mas colocou um post-it escrito à mão: "Oi, tenha uma ótima noite, que sua pizza seja bacana. Baixe nosso app e uma carinha feliz." Era um post-it pequeno, com pouca coisa escrita, à mão. Quando você vê uma mensagem à mão, normalmente você lê. Porque você pensa: "Alguém quer falar comigo." É diferente de um panfleto, que é como um e-mail marketing. Você pensa: "Alguém quer falar comigo?" Então, eu bati o olho e li. E olha só que doideira! Um gastou com gráfica, tentou fazer a melhor imagem, enquanto o outro lançou um post-it para testar.

No fim do dia, o que ele precisa saber? Será que alguém vai ler esse post-it e baixar o app, ou não vai mudar nada? Às vezes, a gente vai muito para o supra-sumo e esquece que, enquanto estamos fazendo toda essa visão, podemos brincar, testar, fazer experiências mais simples que gerem valor, ou não. Quantas vezes eu tive uma sacada que parecia excelente, mas o cliente não gostava? Porque eu não tenho a visão de todos os clientes, só de um, que sou eu. Você tem que testar, senão não saberá. 

Quantas vezes a gente faz coisas de um jeito diferente no dia a dia? A nossa cabeça é diferente. Não temos resposta para todas as dores. Temos que treinar para chegar ao melhor possível para a maior parte dos clientes, porque não dá para atender a todos. Às vezes, 80% prefere de um jeito e 20% de outro. Eu estou nos 20%, mas o que vou fazer? 80% prefere do outro jeito.

Agora, deixa eu contar o que aconteceu uma vez comigo. Acho que foi nesse dia que tive um estalo e mudou a forma como eu pensava as coisas. Isso foi em 2006  (você começa a mostrar a idade um pouco). Fechamos um contrato com uma grande empresa de eletrodomésticos, provavelmente todo mundo que está ouvindo tem algo dessa empresa em casa. Naquela época, não tinha BI, Data Lake, Spark, Power BI, nada disso. O cliente queria mudar o plano de contas da empresa para fazer simulações diferentes. Eles nos deram acesso ao ERP deles, com 1.500 tabelas com nomes bizarros. Tivemos que estudar a contabilidade e os dados tinham que bater nos centavos. Foi um projeto em que sofremos muito. Demorei três meses só para entender o banco de dados. O sistema era feito em C# com .NET. Finalmente, depois de seis meses, entregamos o sistema. 

O cliente fez os filtros, gerou o plano de contas, e tudo batia nos centavos. Quando fomos entregar, ele começou a clicar na tela e perguntou: "Eu não consigo editar?" Eu falei: "Não, isso aqui é um relatório." E ele: "Não! Eu quero isso aqui como um Excel." Em 2006, a gente nem tinha tecnologia para isso. Ele disse: "Estou te pagando para entregar um Excel." Voltamos e, três meses depois, entregamos um Excel. E ele falou: "Agora sim, a melhor planilha que eu já poderia contratar!"

Então, se você perceber, o cliente criou um Excel no final do dia. Era um Excel difícil? Era. Mas nós criamos sistema de autenticação, login, recuperação, relatório, combo; você selecionava um e abria outro, que abria outro, tudo feito em Ajax, que naquela época era algo muito difícil de fazer, dava trabalho, e no final do dia o cliente queria um bendito Excel. Então, é complicado. O que está gerando valor para o cliente no dia a dia não é o que você pensa que está gerando. Por isso é muito importante entender como você gera valor.

Outro problema que tivemos nessa abordagem foi que o cliente pagou e ficou seis meses sem receber nenhuma informação. Ele não recebeu nada naquela época. Quando entregamos tudo, ele ficou sem nada por mais um tempo. Ou seja, o cliente ficou nove meses esperando para ter algum retorno. Às vezes, se tivéssemos entregado uma lista de categorias das contas dele, já estaríamos gerando valor. Então, é muito complicado. Quem vê a gente falando agora pode pensar: "Nossa, Wesley, que vacilo!" Mas, pensa nisso. Há 20 anos, era assim que a gente fazia. Então, é realmente puxado lidar com esses tipos de situação.

Mas, Wesley, acho que, além de ser como fazíamos antigamente, vejo que até hoje há pessoas e times que têm dificuldade de voltar e pedir feedback do que estão fazendo. Até hoje, a galera ainda faz isso. Falamos muito de projetos, jogamos na mão do PM para ele resolver, mas, e em relação à sua atividade? Quanto você está indo atrás e verificando se aquilo faz sentido? Quando você está compartilhando com os times, pegando ideias de outros, falando com os stakeholders, vendo se é realmente aquilo que precisa ser feito. Isso é cultural, não é só para o cliente; é para todo mundo com quem você deve conversar no dia a dia. Quando você compartilha sua ideia e percebe que ela não vai se sustentar, se você ficar apenas focado no seu trabalho o dia inteiro, sem feedback, não saberá se está no caminho certo. Eu sou a favor de, quanto mais informação e co-criação, maiores são as chances de sucesso. Quanto mais gente opinando e participando, maiores as chances de dar certo. Se você se isolar e fizer as coisas sozinho, como fazíamos antigamente, é muito mais difícil de acertar.

Outra coisa que queria mencionar sobre fazer arquiteturas de transição. Eu não comentei antes, mas é extremamente importante ter alguns conceitos sólidos no dia a dia. Primeiro, você precisa ter feature toggle. Se não tiver, dificilmente conseguirá sucesso. Trabalhar com testes mockados é fundamental. Você precisa começar a virtualizar para testar. Não dá para simplesmente sair implementando uma arquitetura de transição e querer fazer testes normais, como fazemos quando a arquitetura já está pronta. Você precisa pensar em resiliência, porque haverá um componente extra; haverá comunicação entre diferentes sistemas, o que adiciona complexidade. E, por mais que você não tenha a melhor observabilidade, você precisa garantir a melhor informação para troubleshooting. Se você não fizer bons logs e der algum problema em uma arquitetura de transição, será muito mais difícil identificar a causa. Então, três coisas são essenciais: feature toggle, testes mockados e resiliência.

Explica para a galera que não sabe direito o que é feature toggle, qual o grande benefício e como essa história funciona.

Eu vou te explicar da forma mais simples possível. Vou usar o exemplo que eu estava mencionando. Imagina que eu tenho meu sistema antigo, que estava rodando na Azure, não estava legal, etc. Então, construí meu front-end aqui na AWS, São Paulo. Estou com esse cara aqui e meu BFF que aponta para a Azure nos Estados Unidos. No primeiro momento, preciso fazer esse BFF apontar para a Azure nos EUA e, ao mesmo tempo, para o microsserviço que construí na AWS em São Paulo. Se o microsserviço da AWS em São Paulo não estiver bom, continuo apontando para a Azure nos EUA. Ou seja, há várias maneiras de trabalhar com toggle, mas o principal é que você consiga alternar entre experiências ou entre duas (ou mais) soluções que você construiu. Algumas pessoas trabalham com mais. Mas, se você tiver duas soluções conversando, precisa poder alternar entre elas. Você também pode usar toggle para liberar uma nova funcionalidade gradualmente, direcionando, por exemplo, 5% dos seus clientes para essa nova experiência e mantendo os outros 95% na versão antiga, para testar a carga e ver se tudo funciona bem.

É possível fazer isso, jogar 5% no balance para a experiência nova. Você pode selecionar uma categoria específica de usuários para testar a novidade e deixar os usuários comuns na versão antiga. Podemos entrar no detalhe do feature toggle para falar mais sobre o conceito, mas o ponto principal é ter em mente a capacidade de chavear entre experiências, seja porque uma deu errado ou para experimentar uma nova.

Isso é muito importante quando você está migrando de um sistema legado para um novo. Se você fizer uma grande mudança e jogar todo mundo para o novo sistema sem ter como voltar atrás, é arriscado. Se acertar de primeira, ótimo, mas sabemos que acertar de primeira é difícil.

Uma coisa que é muito importante: em todos esses casos, fizemos testes de carga, testes de estresse, verificamos a capacidade do sistema. Na hora de colocar em produção, usamos toggle para fazer a transição gradualmente, colocando os novos clientes aos poucos. Se tivéssemos migrado tudo de uma vez, tenho quase certeza de que o sistema não teria funcionado direito. Mesmo com o bom trabalho que fizemos, lembro que, na primeira entrega, o tempo de resposta era de 200 milissegundos. Analisamos e vimos que dava para melhorar. Ajustamos a infraestrutura e reduzimos para 80 milissegundos. Sempre há um refinamento a ser feito na hora de colocar algo em produção. Por isso, acho essencial usar toggle para gerenciar essa transição.