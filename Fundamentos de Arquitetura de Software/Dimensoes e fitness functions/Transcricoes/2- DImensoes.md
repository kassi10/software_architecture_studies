Bom, pessoal, vamos falar um pouco sobre dimensões arquiteturais. Todas as vezes que a gente olha para um software, nós temos que ver o ponto de vista arquitetural desse software, obviamente. O grande ponto que a gente tem que pensar é que normalmente todos os arquitetos estão muito focados em componentes, acoplamento, como isso se relaciona e tudo mais. Também existem algumas dimensões que você tem que fazer. Você tem que ter um olhar um pouco mais claro sobre algumas visões. E normalmente a gente chama isso de arquitetura multidimensional. O que isso significa? Você vai pegar a sua arquitetura e vai olhar essa arquitetura por um determinado ponto de vista. Como a gente faz isso? Quais são essas dimensões? As dimensões podem ser as mais variadas possíveis, porém, eu vou colocar aqui algumas que são importantes para você sempre olhar.

Primeira dimensão é a parte técnica, quando nós estamos trabalhando. A parte técnica, que nesse nosso caso é tecnologia, frameworks, acoplamento, como esses componentes vão se relacionar, como eu vou conseguir testar, como o software vai se comportar de acordo com as abstrações que eu vou fazer. Essa é a visão que mais claramente a gente acaba olhando diretamente ou indiretamente ou apenas por feeling e etc. Mas o grande ponto aqui é que essas dimensões que eu quero falar para você, devem ser vistas de forma intencional. Toda vez que você vai trabalhar com arquitetura de software, a diferença de você arquitetar um software e a diferença de você já sair fazendo esse software é a intenção. Por quê? Porque toda vez que eu desenvolvo um software sem pensar em arquitetura, esse software vai ter arquitetura, mas não significa que esse software vai ter uma boa arquitetura. Quando você olha de forma intencional, significa que você vai olhar pelas diversas dimensões, pelos diversos pontos de vista arquitetural para ver se isso está fazendo sentido. Obviamente, normalmente a gente acaba fazendo essa visão técnica, mas às vezes a gente esquece em pensar direito em como vai ser a arquitetura em relação a dados.

Hoje em dia, a gente tem uma moda “danada”. Vamos isolar o nosso domínio e depois a gente vê como persistem os dados. “Opa, eu tenho um repositório, e o repositório não interessa como esses dados vão ser persistidos e etc, etc.” Porém, a coisa não pode ser julgada de uma forma tão simplista. Muitas vezes, a forma como você vai modelar os dados é um dos pontos principais e um dos principais diferenciais que você vai ter durante a sua arquitetura. E é por isso que é extremamente importante você ter um ótimo repertório nas mais diversas visões, para você conseguir tomar a decisão mais acertada. Quando eu estou falando em arquitetura dimensional, olhando para a parte de dados, eu estou querendo dizer como os dados vão trafegar dentro do meu sistema. Onde os meus dados vão ser armazenados? Em qual formato esses dados vão ser armazenados? Como esses dados, eventualmente, vão ser sincronizados? Às vezes, eu posso trabalhar de uma forma assíncrona, às vezes, eu preciso do mesmo dado, mas num formato diferente para que eu consiga ter mais eficiência na hora que eu for trabalhar. Vou dar um exemplo muito claro. Muitas vezes, você tem que ter três tipos de bancos de dados dentro do seu sistema. Você precisa de um banco de dados relacional para você fazer as suas consultas. Você tem índice. Você consegue trabalhar de uma forma muito fácil. Você tem atomicidade. Você trabalha com isolamento, você tem os pontos do ACID. Por outro lado, muitas vezes você precisa também ter uma forma de conseguir fazer buscas mais rapidamente, então, você precisa ter que ter um outro banco de dados, um Elasticsearch da vida. Você consegue fazer buscas, você consegue gerar o seu esquema, você consegue, por exemplo, falar em qual linguagem. Aquele dado está sendo gravado, porque na hora que você vai buscar ele consegue ter inteligência baseada na língua que está sendo trabalhado. Por outro lado, muitas vezes os dados, as pessoas, acabam se relacionando e essas relações são feitas através de nós e esses nós vão gerar um grafo para a gente. Então, perceba que a gente está falando do mesmo tipo de dado, mas de formas diferentes, logo, quanto mais você começar a entender sobre banco de dados, quanto mais você entender sobre os tipos de banco de dados, SICO ou NoSICO, banco de dados grafos, documentos, bancos de dados de chave-valor. Então, esses tipos de coisas são extremamente importantes na hora que você vai trabalhar com modelagem de dados.  Perceba que apesar de nós tentarmos isolar domínio, de nós tentarmos isolar os componentes da forma mais fácil, muitas vezes, de acordo com o tipo de sistema, a parte de dados é uma das partes mais importantes. Logo, não adianta a gente querer separar totalmente as coisas. O sistema tem que ser olhado de uma forma holística, por outro lado, para você fazer isso, você tem que tomar visões mais intencionais.

O que mais, e quais mais visões a gente tem na hora que vamos trabalhar de uma forma mais multidimensional? A parte de segurança. Fala a verdade, qual foi a última vez que você olhou pela sua arquitetura, e você pensou na parte de segurança? Galera, nós devs, ficamos muito, vamos dizer assim, bem mal acostumados com os nossos frameworks. Por quê? “Ah, porque o meu framework já combate SQL injection. A parte de templates dele já evita eu trabalhar com XSS. Ah, eu vou trabalhar com o WAF, o Web Firewalls, para conseguir me ajudar. Eu tenho a WAF da Amazon, da Cloudflare. Eu tenho seguranças contra bots”. Mas o grande ponto, no meio dessa história, é como esse software vai se comunicar? Quais softwares vão se comunicar com ele? Como eu consigo isolar esse software na rede para que a comunicação seja apenas com quem eu quero? Como vai funcionar? Você vai ter rate limiting? Você vai ter blacklist, que você vai trabalhar? Como você evita man in the middle para pegar essa informação? Você vai trabalhar com o mutual TLS? Você vai ter uma service mesh para você controlar? Você vai ter um proxy na ponta do seu software? Ou os dados que você tem, está gerando de telemetria? Eles estão ofuscados na parte sensível para evitar vazamento de dados de segurança? Dados que são sensíveis vão aparecer em um log, por exemplo, na parte de observabilidade? Então, perceba que a gente tem muitas questões além do SQL Injection, do XSS e etc. A gente tem pontos que nós temos que ter muito cuidado. Qual é o formato de log que eu vou trazer? Quais os tipos de dados que vão vir no meu log? Quais tipos de dados eu vou ofuscar? Esses tipos de informação vão ser extremamente importantes. Olha só como é importante esse tipo de coisa.

E a parte operacional. Como o meu software vai operar? Como vai ser feito o deploy? Quais métricas eu tenho que olhar? Como esse software vai ser observado? Quais são os alarmes que eu vou trazer nesse software para eu conseguir monitorar? Como vão ser as regras de commit, de deploy? Como vai ser o meu pipeline de CI? Como vai ser o meu pipeline de CD? Quais são os tipos de testes que eu tenho que rodar? Eu vou colocar uma ferramenta de análise estática de código, verificação de vulnerabilidade? Eu vou fazer verificação da minha imagem do Docker para ver se está tudo ok? Então, todas essas situações fazem diferença. Como eu vou organizar caso eu tenha algum problema? Como eu vou fazer o rollback? Quais são os tipos de deployment que eu vou fazer? Eu vou ter deploy blue-green? Eu vou ter um deploy canary? Eu vou trabalhar com feature toggle? Perceba a quantidade de coisas que tem para você pensar na operação do dia a dia da sua aplicação. Mas muitas vezes nós, arquitetos… o que a gente acaba fazendo? Olhando para os componentes. Olhando para as classes. Olhando como eles se comunicam, mas a gente acaba não pensando nesses aspectos.

Portanto, a partir de agora eu quero que você pense, escreva e anote esses exemplos que eu acabei dando para você, porque vai fazer toda a diferença. Fechou? Um grande abraço e é isso!