Bom, pessoal, seguinte, ainda falando sobre acoplamento, nós temos que entender que isso é interessante inclusive para você fazer. É o seguinte, a gente tem que entender o que é acoplamento aferente e acoplamento eferente; ou algo que a gente chama de fan-in ou fan-out. Como funciona essa história? Eu quero que vocês deem uma olhada. Vamos imaginar que esse Z, o X e o W são componentes, poderiam ser uma classe, poderiam ser uma função, não interessa, são componentes; podem ser sistemas, não interessa o tipo de cara. O grande ponto é que você pode perceber que o Z está precisando falar com o Y, o X e o W também. Então, se você olhar aqui, o Y possui, aqui, um acoplamento aferente. O que isso significa? Significa que outras pessoas estão… outros componentes estão precisando dele. E quanto mais componentes se conectam nele, maior acaba sendo a responsabilidade dele. Logo, se você olhar aqui, eu tenho o ca e o ce. O que é o ca? É o acoplamento aferente, então, ele é 3. Por quê? Porque eu tenho 3 componentes batendo nele. E aqui eu tenho o ce, que é o acoplamento eferente. Quantos caras ele está chamando? Quantos caras ele depende? Aqui, ele não está dependendo de ninguém, então é 0. E se você olhar aqui desse lado, olha só que interessante, o Z está dependendo de Y, então, ele tem um acoplamento eferente. O que isso significa? Significa que ele está dependendo de alguém. Porém, ninguém nesse momento aqui está dependendo de Z. Portanto, o acoplamento aferente de Z é 0, porque não tem ninguém lidando com Z. E o acoplamento eferente de z é 1, porque ele depende de um cara aqui. E a mesma coisa acontece com X e com Y, entendeu? Se você depende de alguém, essa dependência é um acoplamento eferente. E se você é dependido de alguém, se alguém depende de você, isso, tem um acoplamento aferente.

Um ponto importante para você é o seguinte: você vai perceber que os seus componentes são menos estáveis quando eles dependem de outros caras. E quanto menos caras vocês dependem, mais estável é a sua aplicação, porque ela é autossustentável, vamos dizer assim. Então, quanto mais dependência você tem, menos estável é o seu componente. Quanto menos dependência você tem, mais estável normalmente acaba sendo esse componente. Agora tem um ponto importante também, quanto mais acoplamento aferente você tem, como no caso do Y, mais crítico o seu componente é para a aplicação como um todo. Entende? Quando a gente começa a pensar nisso, a gente começa a ver o nível de estabilidade ou instabilidade que um sistema pode ter. Ou quais são os componentes que você tem que tomar um cuidado danado no seu sistema, porque ele tem uma aferência muito grande. Por quê? Porque tem muita gente dependendo dele. E, às vezes, sabe o que acontece, galera? É que, às vezes, a gente tem um acoplamento aferente muito grande e a gente não percebe. E quando você vai ver, o seu sistema inteiro está dependendo de um determinado componente e esse componente é o componente que você vai dar para aquele desenvolvedor que acabou de chegar na empresa, para ele fazer uma refatoração e pode sair quebrando tudo. Olha só que “loucura”. Você consegue ver o quão crítico é ou não é um componente baseado no tipo de acoplamento que ele tem. A gente vai continuar falando disso, sobre alguns aspectos.

